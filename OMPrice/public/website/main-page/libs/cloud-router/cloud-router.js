!function(){var n=function(n){function e(n,e,t){return n.addEventListener?(n.addEventListener(e,t,!1),t):(iefn=function(){t.call(n)},n.attachEvent("on"+e,iefn),iefn)}function t(n,e,t){return n.addEventListener?void n.removeEventListener(e,t,!1):void n.detachEvent("on"+e,t)}function r(){for(var n,r=document.querySelectorAll("a[cloud-href]"),i=0;n=r[i];i++)t(n,"click",o),e(n,"click",o)}function o(n){var e=n.target.getAttribute("cloud-href");i(e)}function i(e){var t=e.split("/"),r=[],o=function(){throw new Error("CloudRouter: route no defined for "+e+" path")},i=function(n){return function(){throw new Error("CloudRouter: callback no defined for "+n+" route")}};for(var f in u){for(var c=f.split("/"),d=!0,a=0,l=t.length;l>a;a++)if(c[a]&&-1!=c[a].indexOf(":"))r.push(t[a]);else if(c[a]!=t[a]){r=[],d=!1;break}if(d){o=n[u[f]]||i(f);break}}o.apply(n,r)}n||(n={});var u=n.routes||{};return this.run=function(){console.log("run"),r()},this};"function"==typeof define&&define.amd?define("cloud-router",[],function(){return n}):window.CloudRouter=n}();