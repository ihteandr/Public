define([],function(){return["$document","$compile","$controller","$http","$rootScope","$q","$timeout","$templateCache",function(e,t,n,o,r,c,l,i){function a(){var e=this,a=function(e,t){var n=c.defer();if(e)n.resolve(e);else if(t){var r=i.get(t);void 0!==r?n.resolve(r):o({method:"GET",url:t,cache:!0}).then(function(e){i.put(t,e.data),n.resolve(e.data)}).catch(function(e){n.reject(e)})}else n.reject("No template or templateUrl has been specified.");return n.promise};e.showModal=function(e){var o=c.defer(),i=e.controller;return i?(a(e.template,e.templateUrl).then(function(a){var s=r.$new(),u=c.defer(),f={$scope:s,close:function(e,t){(void 0===t||null===t)&&(t=0),l(function(){u.resolve(e)},t)}};if(e.inputs)for(var d in e.inputs)f[d]=e.inputs[d];var m=angular.element(a),v=t(m),h=v(s);f.$element=h;var $=n(i,f);e.appendElement?e.appendElement.append(h):p.append(h);var j={controller:$,scope:s,element:h,close:u.promise};j.close.then(function(){s.$destroy(),h.remove()}),o.resolve(j)}).catch(function(e){o.reject(e)}),o.promise):(o.reject("No controller has been specified."),o.promise)}}var p=e.find("body");return new a}]});