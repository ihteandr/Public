define(["jquery","BaseController"],function(e,s){var t=s.extend({validator:function(){return!0},init:function(e,s,t,i,o){t&&(this.validator=t),this.title=s,this.errorMsg=i,this.closePromise=o,this._super(e)},handleKeyUp:function(e){13==e.keyCode&&this.$scope.save()},save:function(){this.$scope.value&&this.validator(this.$scope.value)?this.close({answer:1,name:this.$scope.value}):(this.$scope.error=!0,e("#base-create-input").parent().addClass("has-error"))},close:function(s){this.closePromise(s||{answer:-1},500),setTimeout(function(){e(".modal-backdrop").remove(),e("body").removeClass("modal-open")},600)},defineScope:function(){this.$scope.value="",this.$scope.title=this.title,this.$scope.error=!1,this.$scope.errorMsg=this.errorMsg,this.$scope.handleKeyUp=this.handleKeyUp.bind(this),this.$scope.save=this.save.bind(this),this.$scope.close=this.close.bind(this)}});return t.$inject=["$scope","title","validator","errorMsg","close"],t});