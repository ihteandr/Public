define(["jquery","Class"],function(r,e){var t=e.extend({$q:null,init:function(r){this.$q=r,this.request=this.request.bind(this),this.requestError=this.requestError.bind(this),this.response=this.response.bind(this),this.responseError=this.responseError.bind(this)},handleError:function(e){var t;t=e.error?e.error.message?e.error.message:e.error:e,require(["BootstrapGrowl"],function(){r.growl({message:t},{type:"danger"})})},request:function(r){return r},requestError:function(r){return this.$q.reject(r)},response:function(r){return r},responseError:function(r){return this.handleError(r.data),"401"==r.status&&window.location.reload(),this.$q.reject(r)}});return t.$inject=["$q"],["$q",function(r){return new t(r)}]});