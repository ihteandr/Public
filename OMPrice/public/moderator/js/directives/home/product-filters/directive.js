define(["jquery","text!templates/main/pages/home/product-filters/template.html"],function(e,t){return function(){return{require:"^?ngModel",restrict:"A",template:t,scope:{},controller:["$scope","$location","ProductFiltersService",function(e,t,c){e.markets=[],e.sections=[],e.categories=[],e.families=[],e.countries=[],e.brands=[],e.selectedMarket="",e.selectedSection="",e.selectedCategory="",e.selectedFamily="",e.selectedCountry="",e.selectedBrand="",e.createProduct=function(){t.path("/product")},c.getMarkets().then(function(t){e.markets=t},App.errorHandler),c.getCountries().then(function(t){e.countries=t},App.errorHandler),c.getBrands().then(function(t){e.brnads=t},App.errorHandler),e.$watch("selectedMarket",function(){e.selectedMarket?(c.getSections(e.selectedMarket).then(function(t){e.sections=t},App.errorHandler),e.$emit("marketSelected",{market:e.selectedMarket})):e.sections=[],e.categories=[],e.families=[]}),e.$watch("selectedSection",function(){e.selectedSection?(c.getCategories(e.selectedSection).then(function(t){e.categories=t},App.errorHandler),e.$emit("sectionSelected",{section:e.selectedSection})):e.categories=[],e.families=[]}),e.$watch("selectedCategory",function(){e.selectedCategory?(c.getFamilies(e.selectedCategory).then(function(t){e.families=t},App.errorHandler),e.$emit("categorySelected",{category:e.selectedCategory})):e.families=[]}),e.$watch("selectedFamily",function(t,c){c!=t&&e.$emit("familySelected",{family:e.selectedFamily})}),e.$watch("selectedCountry",function(t,c){c!=t&&e.$emit("countrySelected",{country:e.selectedCountry})}),e.$watch("selectedBrand",function(t,c){c!=t&&e.$emit("brandSelected",{country:e.selectedBrand})})}],link:function(){}}}});